import{v as n,c,S as g,X as m,M as e,U as a,a8 as f,au as p,Q as x,Z as B,_ as T,N as E,av as N,aw as S,a4 as V,ax as U,ay as A,a3 as C,az as L,a9 as M}from"./index-DXWk5PDB.js";import{_ as D}from"./Foodcard-DYUyjWXp.js";import{b as _}from"./route-block-B_A1xBdJ.js";import{V as R,a as r}from"./VRow-B38zuabs.js";import{V as z}from"./VPagination-CJckGoGr.js";import{V as G}from"./VContainer-B635RQ40.js";import{V as I}from"./VForm-OA6ZQvjk.js";import{V as O}from"./VSelect-BYfBOQ3E.js";import"./VList-DWL1Olfh.js";import"./ssrBoot-CM0ELPVc.js";import"./VDivider-BsXOX5aJ.js";const v=12,Q={__name:"addrecord",setup(X){const{api:k}=M(),u=n(1),w=c(()=>Math.ceil(d.value.length/v)),d=n([]),i=n(""),F=c(()=>d.value.filter(t=>t.name.toLowerCase().includes(i.value.toLowerCase())).slice((u.value-1)*v,u.value*v));(async()=>{try{const{data:t}=await k.get("/food");d.value.push(...t.result)}catch(t){console.log(t)}})();const s=n({open:!1,id:""}),y=t=>{console.log("Selected food id: ",t),s.value.open=!0},P=()=>{s.value.id="",s.value.open=!1},b=[{text:"早餐",value:"早餐"},{text:"午餐",value:"午餐"},{text:"晚餐",value:"晚餐"}];return(t,l)=>(m(),g(x,null,[e(G,{"max-width":"1600"},{default:a(()=>[l[4]||(l[4]=f("h1",null,"新增飲食紀錄",-1)),l[5]||(l[5]=f("br",null,null,-1)),e(R,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(p,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=o=>i.value=o),"prepend-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:a(()=>l[3]||(l[3]=[f("div",{style:{color:"red"}},"以下為食物每100克的含量",-1)])),_:1}),(m(!0),g(x,null,B(F.value,o=>(m(),T(r,{key:o._id,cols:"12",md:"6",lg:"3"},{default:a(()=>[e(D,E({ref_for:!0},o,{"is-link":!1,onClickFood:y}),null,16)]),_:2},1024))),128)),e(r,{cols:"12"},{default:a(()=>[e(z,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=o=>u.value=o),length:w.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}),e(L,{modelValue:s.value.open,"onUpdate:modelValue":l[2]||(l[2]=o=>s.value.open=o),persistent:"","max-width":"500"},{default:a(()=>[e(I,null,{default:a(()=>[e(N,null,{default:a(()=>[e(S,null,{default:a(()=>l[6]||(l[6]=[V("新增飲食紀錄")])),_:1}),e(U,null,{default:a(()=>[e(p,{label:"食物名稱"}),e(p,{label:"份數"}),e(O,{items:b,"item-title":"text","item-value":"value"})]),_:1}),e(A,null,{default:a(()=>[e(C,{onClick:P},{default:a(()=>l[7]||(l[7]=[V("取消")])),_:1}),e(C,null,{default:a(()=>l[8]||(l[8]=[V("確認")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};typeof _=="function"&&_(Q);export{Q as default};
