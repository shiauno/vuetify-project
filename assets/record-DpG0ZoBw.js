import{g as O,p as E,q as $,v as W,d as ke,aH as Ve,af as he,c as b,aI as va,B as Y,M as n,Q as fe,a4 as B,N as M,aJ as ma,t as I,s as G,A as Re,a as ae,a6 as fa,al as q,j as se,aq as We,P as K,aK as ka,aL as Z,aM as te,aN as ha,w as ye,a5 as L,aO as $e,aP as ya,o as ga,y as xa,aQ as ba,aR as J,aS as pa,am as Fe,ao as Da,ah as He,ap as Va,aE as Pa,ar as Sa,K as ge,aT as wa,ab as Ca,ai as _a,aU as Ia,ad as Ma,an as Ta,k as Aa,m as Ea,E as Ue,F as Ba,as as Oa,H as Ya,aj as Na,ag as Ra,h as Wa,D as $a,aV as Fa,aW as Ha,aX as Ua,aw as Pe,aY as ja,aZ as La,a1 as Ga,W as za,_ as qa,X as ie,U as _,a9 as ee,Y as Ja,a7 as de,S as ue,a3 as ce,aa as Ka}from"./index-BH6KwveT.js";import{b as Se}from"./route-block-B_A1xBdJ.js";import{V as we,m as Za}from"./VSheet-CoKgVZTG.js";import{u as Qa,a as Xa,m as et,b as at}from"./VSelect-xhhar1r-.js";import{c as tt,a as nt,b as lt,u as ot,d as it,p as st,e as rt,f as dt,g as ut,h as ct,i as vt,j as mt,k as Ce,l as _e,m as Ie,n as ft,o as kt,q as ht,r as yt}from"./VDataTable-CS2q4Bze.js";import{V as gt}from"./VContainer-CzwkQyz7.js";import"./VList-CdVK96T5.js";import"./ssrBoot--qFJkOWV.js";import"./VDivider-tugaj4Jb.js";import"./VPagination-DZkTEHw1.js";const je=E({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Me=O()({name:"VConfirmEdit",props:je(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,i){let{emit:o,slots:a}=i;const t=$(e,"modelValue"),r=W();ke(()=>{r.value=structuredClone(Ve(t.value))});const{t:d}=he(),u=b(()=>va(t.value,r.value));function s(){t.value=r.value,o("save",r.value)}function l(){r.value=structuredClone(Ve(t.value)),o("cancel")}function c(D){return n(fe,null,[n(B,M({disabled:u.value,variant:"text",color:e.color,onClick:l,text:d(e.cancelText)},D),null),n(B,M({disabled:u.value,variant:"text",color:e.color,onClick:s,text:d(e.okText)},D),null)])}let p=!1;return Y(()=>{var D;return n(fe,null,[(D=a.default)==null?void 0:D.call(a,{model:r,save:s,cancel:l,isPristine:u.value,get actions(){return p=!0,c}}),!p&&c()])}),{save:s,cancel:l,isPristine:u}}}),xt=E({...yt(),...ht(),...et(),...kt()},"VDataTableVirtual"),ve=O()({name:"VDataTableVirtual",props:xt(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,i){let{attrs:o,slots:a}=i;const{groupBy:t}=tt(e),{sortBy:r,multiSort:d,mustSort:u}=nt(e),{disableSort:s}=ma(e),{columns:l,headers:c,filterFunctions:p,sortFunctions:D,sortRawFunctions:S}=lt(e,{groupBy:t,showSelect:I(e,"showSelect"),showExpand:I(e,"showExpand")}),{items:y}=ot(e,l),f=I(e,"search"),{filteredItems:k}=it(e,y,f,{transform:R=>R.columns,customKeyFilter:p}),{toggleSort:x}=st({sortBy:r,multiSort:d,mustSort:u}),{sortByWithGroups:v,opened:P,extractRows:V,isGroupOpen:m,toggleGroup:w}=rt({groupBy:t,sortBy:r,disableSort:s}),{sortedItems:g}=dt(e,k,v,{transform:R=>({...R.raw,...R.columns}),sortFunctions:D,sortRawFunctions:S}),{flatItems:T}=ut(g,t,P),h=b(()=>V(T.value)),{isSelected:A,select:N,selectAll:U,toggleSelect:Q,someSelected:j,allSelected:F}=ct(e,{allItems:h,currentPage:h}),{isExpanded:C,toggleExpand:ea}=vt(e),{containerRef:aa,markerRef:ta,paddingTop:na,paddingBottom:la,computedItems:oa,handleItemResize:ia,handleScroll:sa,handleScrollend:ra}=Qa(e,T),da=b(()=>oa.value.map(R=>R.raw));mt({sortBy:r,page:G(1),itemsPerPage:G(-1),groupBy:t,search:f}),Re({VDataTableRows:{hideNoData:I(e,"hideNoData"),noDataText:I(e,"noDataText"),loading:I(e,"loading"),loadingText:I(e,"loadingText")}});const X=b(()=>({sortBy:r.value,toggleSort:x,someSelected:j.value,allSelected:F.value,isSelected:A,select:N,selectAll:U,toggleSelect:Q,isExpanded:C,toggleExpand:ea,isGroupOpen:m,toggleGroup:w,items:h.value.map(R=>R.raw),internalItems:h.value,groupedItems:T.value,columns:l.value,headers:c.value}));Y(()=>{const R=Ce.filterProps(e),ua=_e.filterProps(e),ca=Ie.filterProps(e);return n(Ie,M({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ca,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var H;return(H=a.top)==null?void 0:H.call(a,X.value)},wrapper:()=>{var H,xe,be;return n("div",{ref:aa,onScrollPassive:sa,onScrollend:ra,class:"v-table__wrapper",style:{height:ae(e.height)}},[n("table",null,[(H=a.colgroup)==null?void 0:H.call(a,X.value),!e.hideDefaultHeader&&n("thead",{key:"thead"},[n(Ce,R,a)]),!e.hideDefaultBody&&n("tbody",null,[n("tr",{ref:ta,style:{height:ae(na.value),border:0}},[n("td",{colspan:l.value.length,style:{height:0,border:0}},null)]),(xe=a["body.prepend"])==null?void 0:xe.call(a,X.value),n(_e,M(o,ua,{items:da.value}),{...a,item:z=>n(Xa,{key:z.internalItem.index,renderless:!0,"onUpdate:height":re=>ia(z.internalItem.index,re)},{default:re=>{var De;let{itemRef:pe}=re;return((De=a.item)==null?void 0:De.call(a,{...z,itemRef:pe}))??n(ft,M(z.props,{ref:pe,key:z.internalItem.index,index:z.internalItem.index}),a)}})}),(be=a["body.append"])==null?void 0:be.call(a,X.value),n("tr",{style:{height:ae(la.value),border:0}},[n("td",{colspan:l.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var H;return(H=a.bottom)==null?void 0:H.call(a,X.value)}})})}}),Le=E({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:q,default:"$next"},prevIcon:{type:q,default:"$prev"},modeIcon:{type:q,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Te=O()({name:"VDatePickerControls",props:Le(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,i){let{emit:o}=i;const a=b(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),t=b(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),r=b(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),d=b(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function u(){o("click:prev")}function s(){o("click:next")}function l(){o("click:year")}function c(){o("click:month")}return Y(()=>n("div",{class:["v-date-picker-controls"]},[n(B,{class:"v-date-picker-controls__month-btn",disabled:a.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),n(B,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:t.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:l},null),n(fa,{key:"mode-spacer"},null),n("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[n(B,{disabled:r.value,icon:e.prevIcon,variant:"text",onClick:u},null),n(B,{disabled:d.value,icon:e.nextIcon,variant:"text",onClick:s},null)])])),{}}}),bt=E({appendIcon:q,color:String,header:String,transition:String,onClick:ka()},"VDatePickerHeader"),Ae=O()({name:"VDatePickerHeader",props:bt(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,i){let{emit:o,slots:a}=i;const{backgroundColorClasses:t,backgroundColorStyles:r}=se(e,"color");function d(){o("click")}function u(){o("click:append")}return Y(()=>{const s=!!(a.default||e.header),l=!!(a.append||e.appendIcon);return n("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value],style:r.value,onClick:d},[a.prepend&&n("div",{key:"prepend",class:"v-date-picker-header__prepend"},[a.prepend()]),s&&n(We,{key:"content",name:e.transition},{default:()=>{var c;return[n("div",{key:e.header,class:"v-date-picker-header__content"},[((c=a.default)==null?void 0:c.call(a))??e.header])]}}),l&&n("div",{class:"v-date-picker-header__append"},[a.append?n(K,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=a.append)==null?void 0:c.call(a)]}}):n(B,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:u},null)])])}),{}}}),pt=E({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function Dt(e){const i=Z(),o=$(e,"modelValue",[],y=>te(y)),a=b(()=>e.displayValue?i.date(e.displayValue):o.value.length>0?i.date(o.value[0]):e.min?i.date(e.min):Array.isArray(e.allowedDates)?i.date(e.allowedDates[0]):i.date()),t=$(e,"year",void 0,y=>{const f=y!=null?Number(y):i.getYear(a.value);return i.startOfYear(i.setYear(i.date(),f))},y=>i.getYear(y)),r=$(e,"month",void 0,y=>{const f=y!=null?Number(y):i.getMonth(a.value),k=i.setYear(i.startOfMonth(i.date()),i.getYear(t.value));return i.setMonth(k,f)},y=>i.getMonth(y)),d=b(()=>e.firstDayOfWeek??e.weekdays[0]),u=b(()=>{const y=Number(e.firstDayOfWeek??0);return e.weekdays.map(f=>(f+y)%7)}),s=b(()=>{const y=i.getWeekArray(r.value,d.value),f=y.flat(),k=6*7;if(e.weeksInMonth==="static"&&f.length<k){const x=f[f.length-1];let v=[];for(let P=1;P<=k-f.length;P++)v.push(i.addDays(x,P)),P%7===0&&(y.push(v),v=[])}return y});function l(y,f){return y.filter(k=>u.value.includes(i.toJsDate(k).getDay())).map((k,x)=>{const v=i.toISO(k),P=!i.isSameMonth(k,r.value),V=i.isSameDay(k,i.startOfMonth(r.value)),m=i.isSameDay(k,i.endOfMonth(r.value)),w=i.isSameDay(k,r.value);return{date:k,isoDate:v,formatted:i.format(k,"keyboardDate"),year:i.getYear(k),month:i.getMonth(k),isDisabled:S(k),isWeekStart:x%7===0,isWeekEnd:x%7===6,isToday:i.isSameDay(k,f),isAdjacent:P,isHidden:P&&!e.showAdjacentMonths,isStart:V,isSelected:o.value.some(g=>i.isSameDay(k,g)),isEnd:m,isSame:w,localized:i.format(k,"dayOfMonth")}})}const c=b(()=>{const y=i.startOfWeek(a.value,e.firstDayOfWeek),f=[];for(let x=0;x<=6;x++)f.push(i.addDays(y,x));const k=i.date();return l(f,k)}),p=b(()=>{const y=s.value.flat(),f=i.date();return l(y,f)}),D=b(()=>s.value.map(y=>y.length?ha(i,y[0]):null));function S(y){if(e.disabled)return!0;const f=i.date(y);return e.min&&i.isAfter(i.date(e.min),f)||e.max&&i.isAfter(f,i.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(k=>i.isSameDay(i.date(k),f)):typeof e.allowedDates=="function"?!e.allowedDates(f):!1}return{displayValue:a,daysInMonth:p,daysInWeek:c,genDays:l,model:o,weeksInMonth:s,weekDays:u,weekNumbers:D}}const Ge=E({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...pt()},"VDatePickerMonth"),Ee=O()({name:"VDatePickerMonth",props:Ge(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,i){let{emit:o,slots:a}=i;const t=W(),{daysInMonth:r,model:d,weekNumbers:u}=Dt(e),s=Z(),l=G(),c=G(),p=G(!1),D=b(()=>p.value?e.reverseTransition:e.transition);e.multiple==="range"&&d.value.length>0&&(l.value=d.value[0],d.value.length>1&&(c.value=d.value[d.value.length-1]));const S=b(()=>{const x=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return d.value.length>=x});ye(r,(x,v)=>{v&&(p.value=s.isBefore(x[0].date,v[0].date))});function y(x){const v=s.startOfDay(x);if(d.value.length===0?l.value=void 0:d.value.length===1&&(l.value=d.value[0],c.value=void 0),!l.value)l.value=v,d.value=[l.value];else if(c.value)l.value=x,c.value=void 0,d.value=[l.value];else{if(s.isSameDay(v,l.value)){l.value=void 0,d.value=[];return}else s.isBefore(v,l.value)?(c.value=s.endOfDay(l.value),l.value=v):c.value=s.endOfDay(v);const P=s.getDiff(c.value,l.value,"days"),V=[l.value];for(let m=1;m<P;m++){const w=s.addDays(l.value,m);V.push(w)}V.push(c.value),d.value=V}}function f(x){const v=d.value.findIndex(P=>s.isSameDay(P,x));if(v===-1)d.value=[...d.value,x];else{const P=[...d.value];P.splice(v,1),d.value=P}}function k(x){e.multiple==="range"?y(x):e.multiple?f(x):d.value=[x]}return()=>n("div",{class:"v-date-picker-month"},[e.showWeek&&n("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&n("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[L(" ")]),u.value.map(x=>n("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[x]))]),n(We,{name:D.value},{default:()=>{var x;return[n("div",{ref:t,key:(x=r.value[0].date)==null?void 0:x.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&s.getWeekdays(e.firstDayOfWeek).map(v=>n("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[v])),r.value.map((v,P)=>{const V={props:{onClick:()=>k(v.date)},item:v,i:P};return S.value&&!v.isSelected&&(v.isDisabled=!0),n("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":v.isAdjacent,"v-date-picker-month__day--hide-adjacent":v.isHidden,"v-date-picker-month__day--selected":v.isSelected,"v-date-picker-month__day--week-end":v.isWeekEnd,"v-date-picker-month__day--week-start":v.isWeekStart}],"data-v-date":v.isDisabled?void 0:v.isoDate},[(e.showAdjacentMonths||!v.isAdjacent)&&n(K,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(v.isSelected||v.isToday)&&!v.isDisabled?e.color:void 0,disabled:v.isDisabled,icon:!0,ripple:!1,text:v.localized,variant:v.isDisabled?v.isToday?"outlined":"text":v.isToday&&!v.isSelected?"outlined":"flat",onClick:()=>k(v.date)}}},{default:()=>{var m;return[((m=a.day)==null?void 0:m.call(a,V))??n(B,V.props,null)]}})])})])]}})])}}),ze=E({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Be=O()({name:"VDatePickerMonths",props:ze(),emits:{"update:modelValue":e=>!0},setup(e,i){let{emit:o,slots:a}=i;const t=Z(),r=$(e,"modelValue"),d=b(()=>{let u=t.startOfYear(t.date());return e.year&&(u=t.setYear(u,e.year)),$e(12).map(s=>{const l=t.format(u,"monthShort"),c=!!(e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),u)||e.max&&t.isAfter(u,t.startOfMonth(t.date(e.max))));return u=t.getNextMonth(u),{isDisabled:c,text:l,value:s}})});return ke(()=>{r.value=r.value??t.getMonth(t.date())}),Y(()=>n("div",{class:"v-date-picker-months",style:{height:ae(e.height)}},[n("div",{class:"v-date-picker-months__content"},[d.value.map((u,s)=>{var p;const l={active:r.value===s,color:r.value===s?e.color:void 0,disabled:u.isDisabled,rounded:!0,text:u.text,variant:r.value===u.value?"flat":"text",onClick:()=>c(s)};function c(D){if(r.value===D){o("update:modelValue",r.value);return}r.value=D}return((p=a.month)==null?void 0:p.call(a,{month:u,i:s,props:l}))??n(B,M({key:"month"},l),null)})])])),{}}}),qe=E({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Oe=O()({name:"VDatePickerYears",props:qe(),emits:{"update:modelValue":e=>!0},setup(e,i){let{emit:o,slots:a}=i;const t=Z(),r=$(e,"modelValue"),d=b(()=>{const s=t.getYear(t.date());let l=s-100,c=s+52;e.min&&(l=t.getYear(t.date(e.min))),e.max&&(c=t.getYear(t.date(e.max)));let p=t.startOfYear(t.date());return p=t.setYear(p,l),$e(c-l+1,l).map(D=>{const S=t.format(p,"year");return p=t.setYear(p,t.getYear(p)+1),{text:S,value:D}})});ke(()=>{r.value=r.value??t.getYear(t.date())});const u=ya();return ga(async()=>{var s;await xa(),(s=u.el)==null||s.scrollIntoView({block:"center"})}),Y(()=>n("div",{class:"v-date-picker-years",style:{height:ae(e.height)}},[n("div",{class:"v-date-picker-years__content"},[d.value.map((s,l)=>{var p;const c={ref:r.value===s.value?u:void 0,active:r.value===s.value,color:r.value===s.value?e.color:void 0,rounded:!0,text:s.text,variant:r.value===s.value?"flat":"text",onClick:()=>{if(r.value===s.value){o("update:modelValue",r.value);return}r.value=s.value}};return((p=a.year)==null?void 0:p.call(a,{year:s,i:l,props:c}))??n(B,M({key:"month"},c),null)})])])),{}}}),Vt=ba("v-picker-title"),Je=E({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...Za()},"VPicker"),Ye=O()({name:"VPicker",props:Je(),setup(e,i){let{slots:o}=i;const{backgroundColorClasses:a,backgroundColorStyles:t}=se(I(e,"color"));return Y(()=>{const r=we.filterProps(e),d=!!(e.title||o.title);return n(we,M(r,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!o.actions},e.class],style:e.style}),{default:()=>{var u;return[!e.hideHeader&&n("div",{key:"header",class:[a.value],style:[t.value]},[d&&n(Vt,{key:"picker-title"},{default:()=>{var s;return[((s=o.title)==null?void 0:s.call(o))??e.title]}}),o.header&&n("div",{class:"v-picker__header"},[o.header()])]),n("div",{class:"v-picker__body"},[(u=o.default)==null?void 0:u.call(o)]),o.actions&&n(K,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[n("div",{class:"v-picker__actions"},[o.actions()])]})]}})}),{}}}),Ke=E({header:{type:String,default:"$vuetify.datePicker.header"},...Le(),...Ge({weeksInMonth:"static"}),...J(ze(),["modelValue"]),...J(qe(),["modelValue"]),...Je({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Ne=O()({name:"VDatePicker",props:Ke(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,i){let{emit:o,slots:a}=i;const t=Z(),{t:r}=he(),d=$(e,"modelValue",void 0,h=>te(h),h=>e.multiple?h:h[0]),u=$(e,"viewMode"),s=b(()=>{var A;const h=t.date((A=d.value)==null?void 0:A[0]);return h&&t.isValid(h)?h:t.date()}),l=W(Number(e.month??t.getMonth(t.startOfMonth(s.value)))),c=W(Number(e.year??t.getYear(t.startOfYear(t.setMonth(s.value,l.value))))),p=G(!1),D=b(()=>e.multiple&&d.value.length>1?r("$vuetify.datePicker.itemsSelected",d.value.length):d.value[0]&&t.isValid(d.value[0])?t.format(t.date(d.value[0]),"normalDateWithWeekday"):r(e.header)),S=b(()=>{let h=t.date();return h=t.setDate(h,1),h=t.setMonth(h,l.value),h=t.setYear(h,c.value),t.format(h,"monthAndYear")}),y=b(()=>`date-picker-header${p.value?"-reverse":""}-transition`),f=b(()=>{const h=t.date(e.min);return e.min&&t.isValid(h)?h:null}),k=b(()=>{const h=t.date(e.max);return e.max&&t.isValid(h)?h:null}),x=b(()=>{if(e.disabled)return!0;const h=[];if(u.value!=="month")h.push("prev","next");else{let A=t.date();if(A=t.setYear(A,c.value),A=t.setMonth(A,l.value),f.value){const N=t.addDays(t.startOfMonth(A),-1);t.isAfter(f.value,N)&&h.push("prev")}if(k.value){const N=t.addDays(t.endOfMonth(A),1);t.isAfter(N,k.value)&&h.push("next")}}return h});function v(){l.value<11?l.value++:(c.value++,l.value=0,T(c.value)),g(l.value)}function P(){l.value>0?l.value--:(c.value--,l.value=11,T(c.value)),g(l.value)}function V(){u.value="month"}function m(){u.value=u.value==="months"?"month":"months"}function w(){u.value=u.value==="year"?"month":"year"}function g(h){u.value==="months"&&m(),o("update:month",h)}function T(h){u.value==="year"&&w(),o("update:year",h)}return ye(d,(h,A)=>{const N=te(A),U=te(h);if(!U.length)return;const Q=t.date(N[N.length-1]),j=t.date(U[U.length-1]),F=t.getMonth(j),C=t.getYear(j);F!==l.value&&(l.value=F,g(l.value)),C!==c.value&&(c.value=C,T(c.value)),p.value=t.isBefore(Q,j)}),Y(()=>{const h=Ye.filterProps(e),A=Te.filterProps(e),N=Ae.filterProps(e),U=Ee.filterProps(e),Q=J(Be.filterProps(e),["modelValue"]),j=J(Oe.filterProps(e),["modelValue"]),F={header:D.value,transition:y.value};return n(Ye,M(h,{class:["v-date-picker",`v-date-picker--${u.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var C;return((C=a.title)==null?void 0:C.call(a))??n("div",{class:"v-date-picker__title"},[r(e.title)])},header:()=>a.header?n(K,{defaults:{VDatePickerHeader:{...F}}},{default:()=>{var C;return[(C=a.header)==null?void 0:C.call(a,F)]}}):n(Ae,M({key:"header"},N,F,{onClick:u.value!=="month"?V:void 0}),{...a,default:void 0}),default:()=>n(fe,null,[n(Te,M(A,{disabled:x.value,text:S.value,"onClick:next":v,"onClick:prev":P,"onClick:month":m,"onClick:year":w}),null),n(pa,{hideOnLeave:!0},{default:()=>[u.value==="months"?n(Be,M({key:"date-picker-months"},Q,{modelValue:l.value,"onUpdate:modelValue":[C=>l.value=C,g],min:f.value,max:k.value,year:c.value}),null):u.value==="year"?n(Oe,M({key:"date-picker-years"},j,{modelValue:c.value,"onUpdate:modelValue":[C=>c.value=C,T],min:f.value,max:k.value}),null):n(Ee,M({key:"date-picker-month"},U,{modelValue:d.value,"onUpdate:modelValue":C=>d.value=C,month:l.value,"onUpdate:month":[C=>l.value=C,g],year:c.value,"onUpdate:year":[C=>c.value=C,T],min:f.value,max:k.value}),null)]})]),actions:a.actions})}),{}}}),oe=Symbol.for("vuetify:v-expansion-panel"),Ze=E({...ge(),...Sa()},"VExpansionPanelText"),ne=O()({name:"VExpansionPanelText",props:Ze(),setup(e,i){let{slots:o}=i;const a=Fe(oe);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:t,onAfterLeave:r}=Da(e,a.isSelected);return Y(()=>n(Pa,{onAfterLeave:r},{default:()=>{var d;return[He(n("div",{class:["v-expansion-panel-text",e.class],style:e.style},[o.default&&t.value&&n("div",{class:"v-expansion-panel-text__wrapper"},[(d=o.default)==null?void 0:d.call(o)])]),[[Va,a.isSelected.value]])]}})),{}}}),Qe=E({color:String,expandIcon:{type:q,default:"$expand"},collapseIcon:{type:q,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ge(),...Ma()},"VExpansionPanelTitle"),le=O()({name:"VExpansionPanelTitle",directives:{Ripple:wa},props:Qe(),setup(e,i){let{slots:o}=i;const a=Fe(oe);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:t,backgroundColorStyles:r}=se(e,"color"),{dimensionStyles:d}=Ca(e),u=b(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),s=b(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return Y(()=>{var l;return He(n("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},t.value,e.class],style:[r.value,d.value,e.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[n("span",{class:"v-expansion-panel-title__overlay"},null),(l=o.default)==null?void 0:l.call(o,u.value),!e.hideActions&&n(K,{defaults:{VIcon:{icon:s.value}}},{default:()=>{var c;return[n("span",{class:"v-expansion-panel-title__icon"},[((c=o.actions)==null?void 0:c.call(o,u.value))??n(Ia,null,null)])]}})]),[[_a("ripple"),e.ripple]])}),{}}}),Xe=E({title:String,text:String,bgColor:String,...Ya(),...Oa(),...Ba(),...Ue(),...Qe(),...Ze()},"VExpansionPanel"),me=O()({name:"VExpansionPanel",props:Xe(),emits:{"group:selected":e=>!0},setup(e,i){let{slots:o}=i;const a=Ta(e,oe),{backgroundColorClasses:t,backgroundColorStyles:r}=se(e,"bgColor"),{elevationClasses:d}=Aa(e),{roundedClasses:u}=Ea(e),s=b(()=>(a==null?void 0:a.disabled.value)||e.disabled),l=b(()=>a.group.items.value.reduce((D,S,y)=>(a.group.selected.value.includes(S.id)&&D.push(y),D),[])),c=b(()=>{const D=a.group.items.value.findIndex(S=>S.id===a.id);return!a.isSelected.value&&l.value.some(S=>S-D===1)}),p=b(()=>{const D=a.group.items.value.findIndex(S=>S.id===a.id);return!a.isSelected.value&&l.value.some(S=>S-D===-1)});return Na(oe,a),Y(()=>{const D=!!(o.text||e.text),S=!!(o.title||e.title),y=le.filterProps(e),f=ne.filterProps(e);return n(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":s.value},u.value,t.value,e.class],style:[r.value,e.style]},{default:()=>[n("div",{class:["v-expansion-panel__shadow",...d.value]},null),n(K,{defaults:{VExpansionPanelTitle:{...y},VExpansionPanelText:{...f}}},{default:()=>{var k;return[S&&n(le,{key:"title"},{default:()=>[o.title?o.title():e.title]}),D&&n(ne,{key:"text"},{default:()=>[o.text?o.text():e.text]}),(k=o.default)==null?void 0:k.call(o)]}})]})}),{groupItem:a}}}),Pt=["default","accordion","inset","popout"],St=E({flat:Boolean,...Ha(),...Fa(Xe(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...$a(),...ge(),...Ue(),variant:{type:String,default:"default",validator:e=>Pt.includes(e)}},"VExpansionPanels"),wt=O()({name:"VExpansionPanels",props:St(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:o}=i;const{next:a,prev:t}=Ra(e,oe),{themeClasses:r}=Wa(e),d=b(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Re({VExpansionPanel:{bgColor:I(e,"bgColor"),collapseIcon:I(e,"collapseIcon"),color:I(e,"color"),eager:I(e,"eager"),elevation:I(e,"elevation"),expandIcon:I(e,"expandIcon"),focusable:I(e,"focusable"),hideActions:I(e,"hideActions"),readonly:I(e,"readonly"),ripple:I(e,"ripple"),rounded:I(e,"rounded"),static:I(e,"static")}}),Y(()=>n(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},r.value,d.value,e.class],style:e.style},{default:()=>{var u;return[(u=o.default)==null?void 0:u.call(o,{prev:t,next:a})]}})),{next:a,prev:t}}}),Ct=E({hideActions:Boolean,location:{type:String,default:"bottom start"},...La(),...je(),...ja({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...J(Ke({weeksInMonth:"dynamic",hideHeader:!0}),["active","location"])},"VDateInput"),_t=O()({name:"VDateInput",props:Ct(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:o}=i;const{t:a}=he(),t=Z(),{isFocused:r,focus:d,blur:u}=Ua(e),s=$(e,"modelValue",e.multiple?[]:null),l=G(!1),c=b(()=>{const f=te(s.value);if(!f.length)return null;if(e.multiple===!0)return a("$vuetify.datePicker.itemsSelected",f.length);if(e.multiple==="range"){const k=f[0],x=f[f.length-1];return t.isValid(k)&&t.isValid(x)?`${t.format(k,"keyboardDate")} - ${t.format(x,"keyboardDate")}`:""}return t.isValid(s.value)?t.format(s.value,"keyboardDate"):""}),p=b(()=>!e.disabled&&!e.readonly);function D(f){if(f.key!=="Enter")return;if(!l.value||!r.value){l.value=!0;return}const k=f.target;s.value=t.date(k.value)}function S(f){f.preventDefault(),f.stopPropagation(),l.value=!0}function y(){l.value=!1}Y(()=>{const f=Me.filterProps(e),k=Ne.filterProps(J(e,["active","location"])),x=Pe.filterProps(e);return n(Pe,M(x,{class:e.class,style:e.style,modelValue:c.value,onKeydown:p.value?D:void 0,focused:l.value||r.value,onFocus:d,onBlur:u,"onClick:control":p.value?S:void 0,"onClick:prepend":p.value?S:void 0}),{default:()=>{var v;return[n(at,{modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,activator:"parent","min-width":"0",location:e.location,closeOnContentClick:!1,openOnClick:!1},{default:()=>[n(Me,M(f,{modelValue:s.value,"onUpdate:modelValue":P=>s.value=P,onSave:y,onCancel:()=>l.value=!1}),{default:P=>{let{actions:V,model:m,save:w,cancel:g,isPristine:T}=P;return n(Ne,M(k,{modelValue:e.hideActions?s.value:m.value,"onUpdate:modelValue":h=>{e.hideActions?(s.value=h,e.multiple||(l.value=!1)):m.value=h},onMousedown:h=>h.preventDefault()}),{actions:e.hideActions?void 0:()=>{var h;return((h=o.actions)==null?void 0:h.call(o,{save:w,cancel:g,isPristine:T}))??V()}})}})]}),(v=o.default)==null?void 0:v.call(o)]}})})}}),It={class:"d-flex justify-space-between"},Mt={style:{width:"300px"}},Tt=["src"],At=["src"],Et=["src"],Bt={__name:"record",setup(e){const{apiAuth:i}=Ka(),o=W(new Date),a=new Date,t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),r=Ga(),d=W([]),u=W([]),s=W([]),l=V=>{const m=new Date(V);return m.setHours(0,0,0,0),console.log("allow的今天:",a.toLocaleString("zh-TW",{timeZone:"Asia/Taipei"})),m<=t};console.log("allow的今天:",a.toLocaleString("zh-TW",{timeZone:"Asia/Taipei"}));const c=new Date(a.setDate(a.getDate()-a.getDay()+1)),p=Array.from({length:7},(V,m)=>{const w=new Date(c);return w.setDate(c.getDate()+m),w.toLocaleDateString()}),D=[{title:"圖片",key:"image",sortable:!1},{title:"食物名稱",key:"name",sortable:!1},{title:"熱量",key:"calorie",sortable:!1},{title:"份量",key:"quantity",sortable:!1},{title:"刪除",key:"deleteRecord",sortable:!1}],S=V=>{const m=new Date(V),w=m.getFullYear(),g=String(m.getMonth()+1).padStart(2,"0"),T=String(m.getDate()).padStart(2,"0");return`${w}-${g}-${T}`},y=W({chart:{height:700,toolbar:{show:!1}},xaxis:{categories:p}}),f=W([{name:"今日攝取的熱量",data:[2746,2410,2620,2500,3e3],type:"bar",color:"#495F41"},{name:"基本所需熱量",data:[2610,2610,2610,2640,2640],type:"line",color:"red"}]),k=async V=>{try{d.value=[];const m=S(V),{data:w}=await i.get(`/record?date=${m}&time=早餐`);console.log("希望這是你想要的早餐值:"+JSON.stringify(w.result)),d.value.push(...w.result)}catch(m){console.log(m)}};k(o.value);const x=async V=>{try{u.value=[];const m=S(V),{data:w}=await i.get(`/record?date=${m}&time=午餐`);console.log("希望這是你想要的午餐值:"+JSON.stringify(w.result)),u.value.push(...w.result)}catch(m){console.log(m)}};x(o.value);const v=async V=>{try{s.value=[];const m=S(V),{data:w}=await i.get(`/record?date=${m}&time=晚餐`);console.log("希望這是你想要的晚餐值:"+JSON.stringify(w.result)),s.value.push(...w.result)}catch(m){console.log(m)}};v(o.value);const P=async V=>{try{await i.delete(`/record/${V}`),r({text:"食物刪除成功",snackbarProps:{color:"success"}}),k(o.value),x(o.value),v(o.value)}catch(m){console.log(m),r({text:"食物紀錄失敗",snackbarProps:{color:"red"}})}};return ye(o,V=>{k(V),x(V),v(V)}),(V,m)=>{const w=za("apexchart");return ie(),qa(gt,{"max-width":"1600"},{default:_(()=>[m[4]||(m[4]=ee("h1",null,"飲食紀錄",-1)),m[5]||(m[5]=ee("br",null,null,-1)),ee("div",It,[ee("div",Mt,[n(Ja(_t),{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),variant:"outlined",label:"選擇日期","prepend-icon":"mdi-calendar",color:"#89BE99","allowed-dates":l},null,8,["modelValue"])]),ee("div",null,[n(B,{icon:"mdi-plus",style:{"margin-right":"0px"},color:"#495F41",to:"/addrecord"})])]),n(wt,{class:"my-4",color:"#89BE99","bg-color":"white",multiple:""},{default:_(()=>[n(me,null,{default:_(()=>[n(le,null,{default:_(()=>m[1]||(m[1]=[L("早餐")])),_:1}),n(ne,null,{default:_(()=>[n(ve,{headers:D,items:d.value,"no-data-text":"查無紀錄",style:{"background-color":"white",color:"black"}},{"item.image":_(({item:g})=>[g.foodDetails&&g.foodDetails.image?(ie(),ue("img",{key:0,src:g.foodDetails.image,alt:"食物圖片",width:"50",height:"50"},null,8,Tt)):ce("",!0)]),"item.name":_(({item:g})=>[L(de(g.foodDetails?g.foodDetails.name:""),1)]),"item.deleteRecord":_(({item:g})=>[n(B,{icon:"mdi-delete",variant:"text",onClick:T=>P(g._id)},null,8,["onClick"])]),_:2},1032,["items"])]),_:1})]),_:1}),n(me,null,{default:_(()=>[n(le,null,{default:_(()=>m[2]||(m[2]=[L("中餐")])),_:1}),n(ne,null,{default:_(()=>[n(ve,{headers:D,items:u.value,"no-data-text":"查無紀錄",style:{"background-color":"white",color:"black"}},{"item.image":_(({item:g})=>[g.foodDetails&&g.foodDetails.image?(ie(),ue("img",{key:0,src:g.foodDetails.image,alt:"食物圖片",width:"50",height:"50"},null,8,At)):ce("",!0)]),"item.name":_(({item:g})=>[L(de(g.foodDetails?g.foodDetails.name:""),1)]),"item.deleteRecord":_(({item:g})=>[n(B,{icon:"mdi-delete",variant:"text",onClick:T=>P(g._id)},null,8,["onClick"])]),_:2},1032,["items"])]),_:1})]),_:1}),n(me,null,{default:_(()=>[n(le,null,{default:_(()=>m[3]||(m[3]=[L("晚餐")])),_:1}),n(ne,null,{default:_(()=>[n(ve,{headers:D,items:s.value,"no-data-text":"查無紀錄",style:{"background-color":"white",color:"black"}},{"item.image":_(({item:g})=>[g.foodDetails&&g.foodDetails.image?(ie(),ue("img",{key:0,src:g.foodDetails.image,alt:"食物圖片",width:"50",height:"50"},null,8,Et)):ce("",!0)]),"item.name":_(({item:g})=>[L(de(g.foodDetails?g.foodDetails.name:""),1)]),"item.deleteRecord":_(({item:g})=>[n(B,{icon:"mdi-delete",variant:"text",onClick:T=>P(g._id)},null,8,["onClick"])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}),n(w,{width:"700",type:"line",options:y.value,series:f.value},null,8,["options","series"])]),_:1})}}};typeof Se=="function"&&Se(Bt);export{Bt as default};
